
<div class="col-sm-4 col-sm-offset-3">
    <h2 style="text-align:center;">Login</h2>
    <form name="form" ng-submit="login(username,password)" role="form">
        <div class="form-group" ng-class="{ 'has-error': form.username.$dirty && form.username.$error.required }">
            <label for="username">Username</label>
            <input type="email" name="username" id="username" class="form-control" ng-model="username" placeholder="Email ID" required />
            <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</span>
      
        </div>
        <div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
            <label for="password">Password</label>
            <input type="password" name="password" id="password" class="form-control" ng-model="password" placeholder="password" required />
            <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>
        </div>
        <div class="form-actions">
            <button type="submit" ng-disabled="form.$invalid || dataLoading" class="btn btn-primary">Login</button>
            
            <a href="" class="btn btn-link" ng-click='open();'>Register</a>
            <a href="" class="btn btn-link" ng-click="Reset();">Forgot Password</a>

        </div>
    </form>
</div>
<div class="col-sm-4" style="padding-top:10em;">
<div class="alert alert-danger" ng-show="showMe">
    <strong>User name / Password doesn't match</strong> 
    Or <b>Please Wait for Admin Approvals
  </div>
</div>




<script type="text/ng-template" id="myModalContent.html">

        <div class="modal-header">
            <h3 class="modal-title"><b><center>User Registration</center></b></h3>
        </div>
         <div class='modal-body'>
         <form name = "modalForm" class="" role="form">
         <div class="form-group" ng-class="{ 'has-error': modalForm.modalInput.$invalid }">
        <input name="modalInput" ng-model = "user.firstname" class="form-control" type = "text" placeholder="First Name" title="name" required/>
        </div>
         <div class="form-group" ng-class="{ 'has-error': modalForm.secondname.$invalid }">
         <input name="secondname" ng-model = "user.secondname" class="form-control" type = "text" placeholder="Second Name" title="name" required/>
        </div>

        <div class="form-group" ng-class="{ 'has-error': modalForm.apartmentname.$invalid }">
          <div class="row">
          <label class="control-label col-sm-4">Select Apartment</label>
          <div class="col-sm-4">
            <select  class="form-control" ng-init="user.apartmentname = names[0]"  ng-model="user.apartmentname" class="ng-valid ng-dirty" ng-options="item for item in names"></select>
          </div>
          <div class="col-sm-4">
            
          </div>
         </div>
        </div>


        <div class="form-group">
          <div class="row">
          <label class="control-label col-sm-4">Select block </label>
          <div class="col-sm-3">
          <select class="form-control" ng-init="user.block = blocks[0]"  ng-model="selectedblock" class="ng-valid ng-dirty" ng-options="item.name for item in blocks" ng-change="changefloor(selectedblock)"></select>
          </div>
          <div class="col-sm-5">
            
          </div>
          </div>
        </div>
   

        <div class="form-group">
          <div class="row">
          <label class="control-label col-sm-4">Residency Type </label>
          <div class="col-sm-3">
          <select class="form-control" ng-init=""  ng-model="user.residencytype" class="ng-valid ng-dirty" ng-options="item for item in residency"></select>
          </div>
          <div class="col-sm-5">
            
          </div>
          </div>

          </div>
          <div class="row">
        <div class="col-sm-6">
          <div class="form-group" ng-class="{ 'has-error': modalForm.floor.$invalid }">
          <select name="floor" ng-model = "floorselected" class="form-control" type = "flotnumber" placeholder="Enter Floor Number" title=" floornumber" ng-options="md.floornumber for md in floors" ng-change="flatchange(floorselected)"></select>
          </div>
        </div>
       
        <div class="col-sm-6">
        <div class="form-group" ng-class="{ 'has-error': modalForm.flotnumber.$invalid }">
          <select name="flotnumber" ng-model = "selectedflat" class="form-control" type = "flotnumber" placeholder="Enter Flot Number" title=" flotnumber" ng-options="md.flatnumber for md in flats" ng-change="flatchagevalue(selectedflat)"></select>
          </div>
          
        </div>
          </div>


          <div class="form-group" ng-show="user.residencytype==residency[1]">
          <input name="ownername" ng-model = "user.ownername" class="form-control" type = "ownername" placeholder="Please Enter your Owner Name" title=" ownername"/>
          </div>
       
          <div class="form-group" ng-class="{ 'has-error': modalForm.email.$invalid }">
          <input name="email" ng-model = "user.email" class="form-control" type="email" placeholder="Email" title=" email" required />
          <span ng-show="emailerror">Email already exist</span>

          </div>
         

          <div class="form-group" ng-class="{ 'has-error': modalForm.password.$invalid }">
          <input name="password" ng-model = "user.password" class="form-control" type = "password" placeholder="Password" title=" password" required/>
          </div>
          <div class="form-group" ng-class="{ 'has-error': modalForm.repassword.$invalid }">
          <input name="repassword" ng-model = "password1" class="form-control" type = "password" placeholder="Re-Password" title=" password" required/>
          <label ng-show="(user.password!==password1)">password doesnt match</label>
          </div>
          <div class="form-group" ng-class="{ 'has-error': modalForm.contact.$invalid }">
          <input name="contact" ng-model = "user.contact" class="form-control" type = "text" placeholder="Conatct Number(excluding +91)" title=" Contact Number" required/>
          </div>
          <div class="form-group" ng-class="{ 'has-error': modalForm.address.$invalid }">
          <textarea name="address" rows="3" ng-model = "user.address" class="form-control" type = "text" placeholder="address" title="address" required></textarea>
          </div>





        </form>
      </div>

        <div class="modal-footer">
            <button class="btn btn-primary" ng-disabled="modalForm.$invalid" ng-class="{ 'disabled': modalForm.$invalid }" ng-click="ok()">Register</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>

    </script>



<!--popup box for registration-->
 <script type="text/ng-template" id="modal3.html">
         <div class="modal fade">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Registration Confirmation</h4>
              </div>
              <div class="modal-body">
                <div class="alert alert-primary"><span class="glyphicon glyphicon-primary-sign"></span> Your registration has been completed and please wait for Admin Approvals</div>
              </div>
              <div class="modal-footer">
                
                <button type="button" ng-click="close('Yes')" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-ok-sign"></span>OK</button>
              </div>
            </div>
          </div>
        </div>
     </script>

     <!--popup box for registration-->
 <script type="text/ng-template" id="modal31.html">
         <div class="modal fade">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Registration Failure</h4>
              </div>
              <div class="modal-body">
                <div class="alert alert-primary"><span class="glyphicon glyphicon-primary-sign"></span>Your Email Id Already exist please use another email id for registration</div>
                <p style="color:green">Reset Your password If you forgot password</p>
              </div>
              <div class="modal-footer">
                
                <button type="button" ng-click="close('Yes')" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-ok-sign"></span>OK</button>
              </div>
            </div>
          </div>
        </div>
     </script>